(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],d=0,u=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/tensorflow.js-classification-example/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var h=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"0498":function(e){e.exports=JSON.parse('{"table":{"head":["Layer (type)","Output Shape","Param #"],"body":[["0 (InputLayer)","[(None, 28, 28, 1)]","0"],["1 (Conv2D)","(None, 28, 28, 16)","160"],["2 (MaxPooling2D)","(None, 14, 14, 16)","0"],["3 (Conv2D)","(None, 14, 14, 32)","4640"],["4 (MaxPooling2D)","(None, 7, 7, 32)","0"],["5 (Flatten)","(None, 1568)","0"],["6 (Dense)","(None, 40)","62760"],["7 (Dense)","(None, 10)","410"]]},"comment":{"Total params":"67,970","Trainable params":"67,970","Non-trainable params":"0"}}')},"262d":function(e,t,n){},"287b":function(e,t,n){},"39f1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAQAAAADIDABVAAAAAnRSTlMAAHaTzTgAAAAZSURBVHgBY8AKDiMw++EHYIwGEOIItdgAABf6CzsSOY3AAAAAAElFTkSuQmCC"},"44ba":function(e,t,n){"use strict";var a=n("d9e8"),r=n.n(a);r.a},"52c6":function(e){e.exports=JSON.parse('{"table":{"head":["Layer (type)","Output Shape","Param #"],"body":[["0 (InputLayer)","[(1, 224, 224, 3)]","0"],["1 (Conv2D)","(1, 224, 224, 16)","432"],["2 (BatchNormalization)","(1, 224, 224, 16)","64"],["3 (LeakyReLU)","(1, 224, 224, 16)","0"],["4 (MaxPooling2D)","(1, 112, 112, 16)","0"],["5 (Conv2D)","(1, 112, 112, 32)","4608"],["6 (BatchNormalization)","(1, 112, 112, 32)","128"],["7 (LeakyReLU)","(1, 112, 112, 32)","0"],["8 (MaxPooling2D)","(1, 56, 56, 32)","0"],["9 (Conv2D)","(1, 56, 56, 16)","512"],["10 (BatchNormalization)","(1, 56, 56, 16)","64"],["11 (LeakyReLU)","(1, 56, 56, 16)","0"],["12 (Conv2D)","(1, 56, 56, 128)","18432"],["13 (BatchNormalization)","(1, 56, 56, 128)","512"],["14 (LeakyReLU)","(1, 56, 56, 128)","0"],["15 (Conv2D)","(1, 56, 56, 16)","2048"],["16 (BatchNormalization)","(1, 56, 56, 16)","64"],["17 (LeakyReLU)","(1, 56, 56, 16)","0"],["18 (Conv2D)","(1, 56, 56, 128)","18432"],["19 (BatchNormalization)","(1, 56, 56, 128)","512"],["20 (LeakyReLU)","(1, 56, 56, 128)","0"],["21 (MaxPooling2D)","(1, 28, 28, 128)","0"],["22 (Conv2D)","(1, 28, 28, 32)","4096"],["23 (BatchNormalization)","(1, 28, 28, 32)","128"],["24 (LeakyReLU)","(1, 28, 28, 32)","0"],["25 (Conv2D)","(1, 28, 28, 256)","73728"],["26 (BatchNormalization)","(1, 28, 28, 256)","1024"],["27 (LeakyReLU)","(1, 28, 28, 256)","0"],["28 (Conv2D)","(1, 28, 28, 32)","8192"],["29 (BatchNormalization)","(1, 28, 28, 32)","128"],["30 (LeakyReLU)","(1, 28, 28, 32)","0"],["31 (Conv2D)","(1, 28, 28, 256)","73728"],["32 (BatchNormalization)","(1, 28, 28, 256)","1024"],["33 (LeakyReLU)","(1, 28, 28, 256)","0"],["34 (MaxPooling2D)","(1, 14, 14, 256)","0"],["35 (Conv2D)","(1, 14, 14, 64)","16384"],["36 (BatchNormalization)","(1, 14, 14, 64)","256"],["37 (LeakyReLU)","(1, 14, 14, 64)","0"],["38 (Conv2D)","(1, 14, 14, 512)","294912"],["39 (BatchNormalization)","(1, 14, 14, 512)","2048"],["40 (LeakyReLU)","(1, 14, 14, 512)","0"],["41 (Conv2D)","(1, 14, 14, 64)","32768"],["42 (BatchNormalization)","(1, 14, 14, 64)","256"],["43 (LeakyReLU)","(1, 14, 14, 64)","0"],["44 (Conv2D)","(1, 14, 14, 512)","294912"],["45 (BatchNormalization)","(1, 14, 14, 512)","2048"],["46 (LeakyReLU)","(1, 14, 14, 512)","0"],["47 (Conv2D)","(1, 14, 14, 128)","65536"],["48 (BatchNormalization)","(1, 14, 14, 128)","512"],["49 (LeakyReLU)","(1, 14, 14, 128)","0"],["50 (Conv2D)","(1, 14, 14, 1000)","129000"],["51 (AveragePooling2D)","(1, 1, 1, 1000)","0"],["52 (Flatten)","(1, 1000)","0"],["53 (Softmax)","(1, 1000)","0"]]},"comment":{"Total params":"1,046,488","Trainable params":"1,037,720","Non-trainable params":"8,768"}}')},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o={name:"app",mounted:function(){}},s=o,c=(n("034f"),n("2877")),l=Object(c["a"])(s,r,i,!1,null,null,null),h=l.exports,d=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},p=[],m={mounted:function(){this.$router.push("/tensorflow.js-classification-example/mnist")}},g=m,f=Object(c["a"])(g,u,p,!1,null,null,null),b=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("title-bar",{attrs:{page:e.currentPath},on:{"vue-move":e.listen__x__onmove}}),n("div",{staticClass:"content"},[n("div",{staticClass:"inference"},[e._m(0),n("div",{staticClass:"block"},[n("div",{staticClass:"run input"},[n("div",{staticClass:"title"},[e._v("Input")]),n("div",{staticClass:"content"},["/mnist"==e.currentPath?n("vue-canvas",{ref:"vue-canvas",attrs:{width:224,"tool-height":25,"canvas-height":224,"layer-msg":"draw!"}}):e._e(),"/imagenet"==e.currentPath?n("vue-upload-canvas",{ref:"vue-upload-canvas",attrs:{width:224,"tool-height":25,"canvas-height":224,"layer-msg":"upload!"}}):e._e(),n("button",{ref:"btn-inference-run"},[n("span",{directives:[{name:"show",rawName:"v-show",value:0==e.isRunning,expression:"isRunning == false"}]},[e._v("run !!")]),n("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isRunning,expression:"isRunning == true"}],staticClass:"w-spinner"},[n("div",{staticClass:"spinner"})])])],1)]),e._m(1),n("div",{staticClass:"run model"},[n("div",{staticClass:"title"},[e._v("\r\n            Model\r\n          ")]),n("div",{staticClass:"content"},[n("div",{staticClass:"w-view-model"},[n("div",{ref:"view-model",staticClass:"view-model"}),n("div",{staticClass:"buttons"},[n("div",{staticClass:"btn refresh",attrs:{title:"refresh"},on:{click:e.listen__view_model_refresh__onclick}},[e._v("🗘")]),n("div",{staticClass:"btn help",attrs:{title:"help"},on:{click:e.listen__view_model_help__onclick}},[e._v("?")])])])])]),e._m(2),n("div",{staticClass:"run result"},[n("div",{staticClass:"title"},[e._v("Result")]),n("div",{staticClass:"content"},[n("div",[n("h4",[e._v("probability")]),"/mnist"==e.currentPath?n("bar-chart",{staticStyle:{height:"150px",width:"200px"},attrs:{"chart-data":e.pageDef.result.chartData,options:{width:200,height:150}}}):e._e(),"/imagenet"==e.currentPath?n("horizontal-bar-chart",{staticStyle:{height:"150px",width:"200px"},attrs:{"chart-data":e.pageDef.result.chartData,options:{width:200,height:150}}}):e._e()],1),n("div",[e._m(3),n("div",{staticStyle:{border:"1px solid rgba(0, 0, 0, 1)"}},[n("canvas",{ref:"grad-cam-canvas",staticStyle:{width:"150px",height:"150px"},attrs:{width:"150",height:"150"}})])])])])])]),n("div",{staticClass:"training-data"},[n("h1",[e._v(e._s(e.pageDef.trainingData.name)),n("i",[e._v(" - training data")])]),n("p",{domProps:{innerHTML:e._s(e.pageDef.trainingData.html)}})]),void 0!=e.pageDef.training?n("div",{staticClass:"training"},[n("h1",[e._v(e._s(e.pageDef.training.name)),n("i",[e._v(" - tuning & learning")])]),n("p",{domProps:{innerHTML:e._s(e.pageDef.training.html)}})]):e._e(),n("div",{staticClass:"archetecture"},[n("h1",[e._v(e._s(e.pageDef.archetecture.name)),n("i",[e._v("  - network archetecture")])]),n("table",[n("thead",[n("tr",e._l(e.pageDef.archetecture.data.table.head,(function(t,a){return n("th",{key:"arch-table-head-"+a},[e._v("\r\n            "+e._s(t)+"\r\n          ")])})),0)]),n("tbody",e._l(e.pageDef.archetecture.data.table.body,(function(t,a){return n("tr",{key:"arch-table-body-tr-"+a,class:{odd:a%2==1}},e._l(t,(function(t,a){return n("td",{key:"arch-table-body-td-"+a},[e._v("\r\n              "+e._s(t)+"\r\n            ")])})),0)})),0)]),e._l(e.pageDef.archetecture.data.comment,(function(t,a,r){return n("h4",{key:"arch-comment-"+r},[e._v("\r\n        "+e._s(a+": "+t)+"\r\n      ")])}))],2),e._m(4)])],1)},w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("Demo"),n("i",[e._v(" - Inference")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vb"},[a("img",{attrs:{src:n("e901")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vb"},[a("img",{attrs:{src:n("e901")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h4",[n("a",{attrs:{href:"#explain-grad-cam"}},[e._v("grad-CAM")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footnote"},[n("h1",[e._v("Footnote")]),n("h4",{attrs:{id:"explain-grad-cam"}},[e._v("Grad-CAM")]),n("p",[e._v("\r\n        Gradient-weighted Class Activation Mapping\r\n        "),n("br"),e._v('\r\n          ML model은 블랙박스로 사용할 수 있지만 세밀한 튜닝을 위해서는 이해가 필요하다.\r\n        특히 classification 문제의 경우 모델이 도대체 무엇을 보고 그런 결정을 판단하는지 확인 할 필요가 있다.\r\n        이런 "visual explanations"을 producing하는 방법은 occlusion map, Guided-Backpropagation, CAM, Grad-CAM등이 있으며 Grad-CAM의 경우 구조변경과 재학습이 필요 없으며 판단을 내리기 위해 참고한 영역을 표현 할 수 있다.  \r\n      ')])])}],y=(n("8e6e"),n("ac6a"),n("456d"),n("55dd"),n("63d9"),n("7f7f"),n("96cf"),n("3b8d")),k=n("bd86"),A=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"body"},[r("div",{staticClass:"dataset"},[r("div",{class:{active:"/mnist"==t.page},on:{click:function(){e.$emit("vue-move","/mnist")}}},[r("div",{staticClass:"wcheck"},[r("img",{directives:[{name:"show",rawName:"v-show",value:"/mnist"==t.page,expression:"page == '/mnist'"}],staticClass:"check",attrs:{src:n("e27e")}})]),r("span",[t._v("MNIST")])]),r("div",{class:{active:"/imagenet"==t.page},on:{click:function(){e.$emit("vue-move","/imagenet")}}},[r("div",{staticClass:"wcheck"},[r("img",{directives:[{name:"show",rawName:"v-show",value:"/imagenet"==t.page,expression:"page == '/imagenet'"}],staticClass:"check",attrs:{src:n("e27e")}})]),r("span",[t._v("ImageNet")])])]),r("div",{staticClass:"buttons"},[t._m(0),r("img",{directives:[{name:"show",rawName:"v-show",value:0==t.fullscreen,expression:"fullscreen == false"}],staticClass:"btn",attrs:{src:n("ebbb"),title:"maxmize"},on:{click:t.listen__fullscreen__onclick}}),r("img",{directives:[{name:"show",rawName:"v-show",value:1==t.fullscreen,expression:"fullscreen == true"}],staticClass:"btn",attrs:{src:n("39f1"),title:"minimize"},on:{click:t.listen__fullscreen__onclick}}),r("img",{staticClass:"btn",attrs:{src:n("d696"),title:"help"},on:{click:t.listen__help__onclick}})])])},x=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticStyle:{"line-height":"0"},attrs:{href:"https://github.com/whwnsdlr1/tensorflow.js-classification-example"}},[a("img",{staticClass:"btn github",attrs:{src:n("e42c"),title:"github"}})])}];n("a481"),n("34ef"),n("6aa2"),n("6b54");function _(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return t<10&&(t="0"+t),n<10&&(n="0"+n),a+"."+n+"."+t}function C(){var e,t="";for(e=0;e<32;e+=1)switch(e){case 8:case 20:t+="-",t+=(16*Math.random()|0).toString(16);break;case 12:t+="-",t+="4";break;case 16:t+="-",t+=(4*Math.random()|8).toString(16);break;default:t+=(16*Math.random()|0).toString(16)}return t}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n["parent"],r=n["id"],i=n["class"],o=n["text"],s=n["innerHTML"],c=n["attrs"],l=document.createElement(e);for(var h in t)l.style[h]=t[h];if(void 0!==a&&a.appendChild(l),void 0!==r&&(l.id=r),void 0!==i&&(l.className=i),void 0!==o&&(l.textContent=o),void 0!==s&&(l.innerHTML=s),void 0!==c)for(var d in c)l.setAttribute(d,c[d]);return l}function D(e){if(e.length>0){for(var t=0,n=e[0],a=1;a<e.length;a++){var r=e[a];r>n&&(n=r,t=a)}return t}return-1}function P(e,t,n,a,r){var i=document.createElement("canvas"),o=i.getContext("2d"),s=document.createElement("canvas"),c=s.getContext("2d");return i.width=t,i.height=n,o.putImageData(new ImageData(new Uint8ClampedArray(e),t,n),0,0),s.width=a,s.height=r,c.drawImage(i,0,0,i.width,i.height,0,0,s.width,s.height),c.getImageData(0,0,a,r).data}function S(e){for(var t,n,a,r,i,o="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(e.buffer),l=c.byteLength,h=l%3,d=l-h,u=0;u<d;u+=3)i=c[u]<<16|c[u+1]<<8|c[u+2],t=(16515072&i)>>18,n=(258048&i)>>12,a=(4032&i)>>6,r=63&i,o+=s[t]+s[n]+s[a]+s[r];return 1===h?(i=c[d],t=(252&i)>>2,n=(3&i)<<4,o+=s[t]+s[n]+"=="):2===h&&(i=c[d]<<8|c[d+1],t=(64512&i)>>10,n=(1008&i)>>4,a=(15&i)<<2,o+=s[t]+s[n]+s[a]+"="),o}function R(e){for(var t=atob(e),n=t.length,a=new Uint8Array(n),r=0;r<n;r++)a[r]=t.charCodeAt(r);return a.buffer}function M(e){for(var t=new Uint8Array(4*e.length),n=0;n<e.length;n++){var a=4*n,r=e[n];t[a]=r,t[a+1]=r,t[a+2]=r,t[a+3]=255}return t}function O(e){for(var t=new Uint8Array(e.length/3*4),n=0;n<e.length;n+=3){var a=n/3*4;t[a]=e[n],t[a+1]=e[n+1],t[a+2]=e[n+2],t[a+3]=255}return t}function j(e){for(var t=e.length/3,n=new Uint8Array(4*t),a=0;a<t;a++){var r=4*a;n[r]=e[a],n[r+1]=e[a+t],n[r+2]=e[a+t+t],n[r+3]=255}return n}function I(e){for(var t=new Uint8Array(e.length/4*3),n=0;n<e.length;n+=4){var a=n/4*3;t[a]=e[n],t[a+1]=e[n+1],t[a+2]=e[n+2]}return t}function N(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,n,a){return t+t+n+n+a+a}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}var B={getDateString:_,getUuid4:C,createElement:E,argMax:D,resizeImg:P,convertBufferToBase64:S,convertBase64ToBuffer:R,convertGRAY2RGBA:M,convertRGB2RGBA:O,convertRGB2RGBA1:j,convertRGBA2RGB:I,convertHexToRgb:N};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(k["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={props:["page"],data:function(){return{fullscreen:!1}},methods:{listen__help__onclick:function(){var e=B.createElement("DIV",{},{});B.createElement("H3",{fontSize:"20px",marginBottom:"0px"},{parent:e,text:"tensorflow.js"}),B.createElement("HR",{},{parent:e});var t=window.tf,n={fontSize:"16px",lineHeight:1.5};for(var a in t.version){var r=B.createElement("DIV",{},{parent:e});B.createElement("SPAN",T({},n,{fontWeight:"bold",paddingRight:"10px"}),{parent:r,text:"".concat(a,":")}),B.createElement("SPAN",n,{parent:r,text:t.version[a]})}B.createElement("H3",{fontSize:"20px",marginTop:"30px",marginBottom:"0px"},{parent:e,text:"used library"}),B.createElement("HR",{},{parent:e});var i=B.createElement("DIV",{},{parent:e});B.createElement("SPAN",n,{parent:i,text:"please see the readme file on github."}),this.$mModal.show("dialog",{dom:e,buttons:[{title:"confirm",class:["green"],onclick:function(){}}]})},listen__fullscreen__onclick:function(){1==this.fullscreen?(document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),this.fullscreen=!1):(document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullscreen&&document.body.webkitRequestFullScreen(),this.fullscreen=!0)}},mounted:function(){}},L=H,U=(n("a52b"),Object(c["a"])(L,A,x,!1,null,"56dd2657",null)),F=U.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative",display:"block"}})},V=[],W=n("5698"),Y=n("6a04"),Z={props:["chartData","options"],data:function(){var e={top:5,right:5,bottom:20,left:25},t=this.options.width-e.left-e.right,n=this.options.height-e.top-e.bottom;return{margin:e,width:t,height:n,svg:void 0,tip:void 0,x:void 0,axisX:void 0,y:void 0,axisY:void 0}},methods:{update:function(e){var t=this;t.x.domain(e.map((function(e){return e.name}))),t.axisX.call(W["a"](t.x)),t.y.domain([0,1]),t.axisY.call(W["b"](t.y).ticks(2));var n=t.svg.selectAll("rect").data(e);n.enter().append("rect").on("mouseover",t.tip.show).on("mouseout",t.tip.hide).merge(n).transition().duration(300).attr("class","bar").attr("x",(function(e){return t.x(e.name)})).attr("y",(function(e){return t.y(e.value)})).attr("width",t.x.bandwidth()).attr("height",(function(e){return t.height-t.y(e.value)})).attr("fill",(function(e){return void 0!=e.color?e.color:"#69b3a2"}))}},watch:{chartData:function(e){this.update(e)}},mounted:function(){this.svg=W["e"](this.$el).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")")),this.tip=Object(Y["a"])().attr("class","d3-tip").offset([-10,0]).html((function(e,t){return"<strong>".concat(t,"</strong>: <span style='color:red'>").concat(e.value.toFixed(3),"</span>")})),this.svg.call(this.tip),this.x=W["c"]().range([0,this.width]).padding(.2),this.axisX=this.svg.append("g").attr("transform","translate(0,".concat(this.height,")")),this.y=W["d"]().range([this.height,0]),this.axisY=this.svg.append("g");var e=this.chartData;this.update(e)}},X=Z,J=(n("7ee7"),Object(c["a"])(X,G,V,!1,null,null,null)),Q=J.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative",display:"block"}})},K=[],q={props:["chartData","options"],data:function(){var e={top:5,right:10,bottom:20,left:50},t=this.options.width-e.left-e.right,n=this.options.height-e.top-e.bottom;return{margin:e,width:t,height:n,svg:void 0,tip:void 0,x:void 0,axisX:void 0,y:void 0,axisY:void 0}},methods:{update:function(e){var t=this;t.x.domain([0,1]),t.axisX.call(W["a"](t.x).ticks(2)),t.y.domain(e.map((function(e){return e.name}))),t.axisY.call(W["b"](t.y).tickFormat((function(e){return e.length>6?e.slice(0,5)+"...":e})));var n=t.svg.selectAll("rect").data(e);n.enter().append("rect").on("mouseover",t.tip.show).on("mouseout",t.tip.hide).merge(n).transition().duration(300).attr("class","bar").attr("x",t.x(.01)).attr("y",(function(e){return t.y(e.name)})).attr("height",t.y.bandwidth()).attr("width",(function(e){return t.x(e.value)})).attr("fill",(function(e){return e.color}))}},watch:{chartData:function(e){this.update(e)}},mounted:function(){this.svg=W["e"](this.$el).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")")),this.tip=Object(Y["a"])().attr("class","d3-tip").offset([-10,0]).html((function(e){return"<strong>".concat(e.name,"</strong>: <span style='color:red'>").concat(e.value.toFixed(3),"</span>")})),this.svg.call(this.tip),this.x=W["d"]().range([0,this.width]),this.axisX=this.svg.append("g").attr("transform","translate(0,".concat(this.height,")")),this.y=W["c"]().range([0,this.height]).padding(.5),this.axisY=this.svg.append("g");var e=this.chartData;this.update(e)}},ee=q,te=(n("e72c"),Object(c["a"])(ee,$,K,!1,null,null,null)),ne=te.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body",style:{width:e.width+"px"},on:{mouseenter:function(){e.mouseEntered=!0}}},[n("div",{staticClass:"tool",style:{flex:"0 0 "+e.toolHeight+"px"}},[n("div",{staticClass:"wrap-stroke-width"},[n("span",[e._v("stroke width:  ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lineWidth,expression:"lineWidth"}],attrs:{type:"range",min:"1",max:"15"},domProps:{value:e.lineWidth},on:{change:e.listen__stroke_width__onchange,__r:function(t){e.lineWidth=t.target.value}}})]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"btn clear",attrs:{title:"clear",disabled:0==e.points.length},on:{click:e.clearCanvasRect}},[e._v("X")])])]),n("canvas",{ref:"canvas",style:{flex:"0 0 "+e.canvasHeight+"px"},on:{mousedown:e.listen__canvas__onmousedown,mousemove:e.listen__canvas__onmousemove,mouseup:e.listen__canvas__onmouseup,mouseleave:e.listen__canvas__onmouseleave}}),n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.mouseEntered,expression:"mouseEntered == false"}],staticClass:"layer"},[n("span",[e._v(e._s(e.layerMsg))])])])},re=[],ie={props:["width","tool-height","canvas-height","layer-msg"],data:function(){return{paint:!1,points:[],lineWidth:9,mouseEntered:!1}},methods:{listen__canvas__onmousedown:function(e){var t=this.$refs["canvas"],n=t.getBoundingClientRect();this.paint=!0,this.points.push([e.pageX-n.x,e.pageY-n.y,!0]),this.redraw()},listen__canvas__onmousemove:function(e){if(this.paint){var t=this.$refs["canvas"],n=t.getBoundingClientRect();this.points.push([e.pageX-n.x,e.pageY-n.y,!1,this.lineWidth]),this.redraw()}},listen__canvas__onmouseup:function(){this.paint=!1},listen__canvas__onmouseleave:function(){this.paint=!1},listen__stroke_width__onchange:function(){},redraw:function(){var e=this.points;if(e.length>0){var t=this.$refs["canvas"],n=t.getContext("2d",{alpha:!1});n.clearRect(0,0,n.canvas.width,n.canvas.height),n.strokeStyle="#FFFFFF",n.lineJoin="round";for(var a=1;a<e.length;a++){var r=e[a];if(1!=r[2]){n.lineWidth=r[3];var i=e[a-1];n.beginPath(),n.moveTo(i[0],i[1]),n.lineTo(r[0],r[1]),n.closePath(),n.stroke()}}}},clearCanvasRect:function(){var e=this.$refs["canvas"],t=e.getContext("2d",{alpha:!1});t.clearRect(0,0,t.canvas.width,t.canvas.height),this.points=[]},getData:function(){var e=this.$refs["canvas"],t=e.getContext("2d",{alpha:!1});return t.getImageData(0,0,t.canvas.width,t.canvas.height)}},mounted:function(){var e=this.$refs["canvas"];e.getContext("2d",{alpha:!1});var t=getComputedStyle(e),n=t.width,a=t.height;e.width=parseInt(n),e.height=parseInt(a),this.points=[]}},oe=ie,se=(n("8361"),Object(c["a"])(oe,ae,re,!1,null,"618e5c08",null)),ce=se.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body",style:{width:e.width+"px"},on:{mouseenter:function(){e.mouseEntered=!0}}},[n("div",{staticClass:"tool",style:{flex:"0 0 "+e.toolHeight+"px"}},[n("div",{staticClass:"buttons"},[n("button",{ref:"btn-upload",staticClass:"btn upload",attrs:{title:"upload"},on:{click:e.uploadCanvas}},[e._v("↑")])]),n("input",{ref:"input-upload",attrs:{type:"file",accept:".png,.jpg,.bmp"},on:{change:e.listen__file__onchange}})]),n("canvas",{ref:"canvas",style:{flex:"0 0 "+e.canvasHeight+"px"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.mouseEntered,expression:"mouseEntered == false"}],staticClass:"layer"},[n("span",[e._v(e._s(e.layerMsg))])])])},he=[],de=(n("4917"),{props:["width","tool-height","canvas-height","layer-msg"],data:function(){return{mouseEntered:!1}},methods:{listen__file__onchange:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this,n.$refs["btn-upload"].disabled=!0,e.prev=2,1!=t.target.files.length){e.next=14;break}if(a=t.target.files[0],!a.type.match("image.*")){e.next=14;break}return e.next=8,n.readFile(a);case 8:r=e.sent,i=n.$refs["canvas"],o=i.getContext("2d",{alpha:!1}),s=new Image,s.onload=function(){var e=document.createElement("canvas");e.width=s.naturalWidth,e.height=s.naturalHeight;var t=e.getContext("2d");t.drawImage(s,0,0,s.naturalWidth,s.naturalHeight);var a=t.getImageData(0,0,s.naturalWidth,s.naturalHeight);o.putImageData(n.getLetterboxImage(a,n.width,n.canvasHeight),0,0)},s.src=r;case 14:return e.prev=14,n.$refs["btn-upload"].disabled=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,,14,17]])})));function t(t){return e.apply(this,arguments)}return t}(),readFile:function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t(n.target.result);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsDataURL(e)}))},resizeImg:function(e,t,n,a,r){var i=document.createElement("canvas"),o=i.getContext("2d"),s=document.createElement("canvas"),c=s.getContext("2d");return i.width=t,i.height=n,o.putImageData(new ImageData(new Uint8ClampedArray(e),t,n),0,0),s.width=a,s.height=r,c.drawImage(i,0,0,i.width,i.height,0,0,s.width,s.height),c.getImageData(0,0,a,r).data},getLetterboxImage:function(e,t,n){var a,r;t/e.width<n/e.height?(a=t,r=parseInt(e.height*t/e.width)):(r=n,a=parseInt(e.width*n/e.height));for(var i=this.resizeImg(e.data,e.width,e.height,a,r),o=new Uint8ClampedArray(t*n*4),s=0;s<n;s++)for(var c=s*t*4,l=0;l<t;l++){var h=c+4*l;o[h]=127,o[h+1]=127,o[h+2]=127,o[h+3]=255}for(var d=parseInt((n-r)/2),u=parseInt((t-a)/2),p=d+r,m=u+a,g=d;g<p;g++)for(var f=g*t*4,b=(g-d)*a*4,v=u;v<m;v++){var w=f+4*v,y=b+4*(v-u);o[w]=i[y],o[w+1]=i[y+1],o[w+2]=i[y+2],o[w+3]=i[y+3]}return new ImageData(o,t,n)},uploadCanvas:function(){var e=this.$refs["canvas"],t=e.getContext("2d",{alpha:!1});t.clearRect(0,0,t.canvas.width,t.canvas.height),this.$refs["input-upload"].click()},getData:function(){var e=this.$refs["canvas"],t=e.getContext("2d",{alpha:!1});return t.getImageData(0,0,t.canvas.width,t.canvas.height)}},mounted:function(){var e=this.$refs["canvas"];e.getContext("2d",{alpha:!1});var t=getComputedStyle(e),n=t.width,a=t.height;e.width=parseInt(n),e.height=parseInt(a)}}),ue=de,pe=(n("e8c8"),Object(c["a"])(ue,le,he,!1,null,"16bc0270",null)),me=pe.exports,ge=n("89e8"),fe=n.n(ge);n("9ec8"),n("673e"),n("ac4d"),n("8a81"),n("6c7b");function be(e,t){var n=Array(e).fill().map((function(){return t[Symbol.iterator]()}));return n.forEach((function(e,t){return Array(t).fill().forEach((function(){return e.next()}))})),Array(t.length-e+1).fill().map((function(){return n.map((function(e){return e.next().value}))}))}function ve(e){return be(2,e)}function we(e,t){var n=parseInt(getComputedStyle(t).width),a=parseInt(getComputedStyle(t).height),r="#eeeeee",i="#99ddff",o="#ffbbbb",s=.4,c=.4,l=new e.LineBasicMaterial({color:0}),h=new e.MeshBasicMaterial({color:r,side:e.DoubleSide,transparent:!0,opacity:s,depthWrite:!1,needsUpdate:!0}),d=new e.MeshBasicMaterial({color:i,side:e.DoubleSide,transparent:!0,opacity:c,depthWrite:!1,needsUpdate:!0}),u=new e.MeshBasicMaterial({color:o,side:e.DoubleSide,transparent:!0,opacity:c,depthWrite:!1,needsUpdate:!0}),p=[],m=[],g=20,f=!0,b=10,v=!0,w=10,y=!1,k=1,A=!0,x=!1,_={x:-219,y:92,z:84},C=function(e){return f?Math.log(e)*b:e*b},E=function(e){return v?Math.log(e)*w:e*w},D=function(e){return y?Math.log(e)*k:e*k};function P(e){return E(e["width"])}function S(e){return E(e["height"])}var R=new e.Group,M=new e.Group,O=new e.Group,j=new e.Group,I=new e.Scene;I.background=new e.Color(16777215);var N,B=new e.OrthographicCamera(n/-2,n/2,a/2,a/-2,-1e7,1e7);B.position.set(_.x,_.y,_.z);var z,T="webgl";function H(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.rendererType_,o=void 0===i?T:i;T=o,F(I),"webgl"===T?N=new e.WebGLRenderer({alpha:!0}):"svg"===T&&(N=new e.SVGRenderer),N.setPixelRatio(window.devicePixelRatio||1),N.setSize(n,a);while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(N.domElement),z&&z.dispose(),z=new e.OrbitControls(B,N.domElement),L()}function L(){requestAnimationFrame(L),N.render(I,B)}function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.architecture_,a=void 0===n?p:n,r=t.architecture2_,i=void 0===r?m:r,o=t.betweenLayers_,s=void 0===o?g:o,c=t.logDepth_,_=void 0===c?f:c,N=t.depthScale_,T=void 0===N?b:N,H=t.logWidth_,L=void 0===H?v:H,U=t.widthScale_,V=void 0===U?w:U,W=t.logConvSize_,Y=void 0===W?y:W,Z=t.convScale_,X=void 0===Z?k:Z,J=t.showDims_,Q=void 0===J?A:J,$=t.showConvDims_,K=void 0===$?x:$;p=a,m=i,g=s,f=_,b=T,v=L,w=V,y=Y,k=X,A=Q,x=K,F(I);var q=-(p.reduce((function(e,t){return e+C(t["depth"])}),0)+g*(p.length-1))/3,ee=ve(p).reduce((function(e,t){return e.concat([e[e.length-1]+C(t[0]["depth"])/2+g+C(t[1]["depth"])/2])}),[q]);ee=ee.concat(m.reduce((function(e){return e.concat([e[e.length-1]+E(2)+g])}),[ee[ee.length-1]+C(p[p.length-1]["depth"])/2+g+E(2)]));var te=(ee[0]+ee[ee.length-1])/2;ee=ee.map((function(e){return e-te})),p.forEach((function(t,n){var a=new e.BoxGeometry(P(t),S(t),C(t["depth"])),r=new e.Mesh(a,h);r.position.set(0,0,ee[n]),R.add(r);var i,o,s,c=new e.EdgesGeometry(a),m=new e.LineSegments(c,l);if(m.position.set(0,0,ee[n]),R.add(m),n<p.length-1){var f=new e.BoxGeometry(D(t["filterWidth"]),D(t["filterHeight"]),C(t["depth"]));i=new e.Mesh(f,d),i.position.set(t["rel_x"]*P(t),t["rel_y"]*S(t),ee[n]),M.add(i);var b=new e.EdgesGeometry(f),v=new e.LineSegments(b,l);v.position.set(t["rel_x"]*P(t),t["rel_y"]*S(t),ee[n]),M.add(v);var w=new e.Geometry,y=ee[n]+C(t["depth"])/2,k=ee[n]+C(t["depth"])/2+g,_=E(p[n+1]["width"]);w.vertices=[new e.Vector3(t["rel_x"]*P(t)+D(t["filterWidth"])/2,t["rel_y"]*S(t)+D(t["filterHeight"])/2,y),new e.Vector3(t["rel_x"]*P(t)+D(t["filterWidth"])/2,t["rel_y"]*S(t)-D(t["filterHeight"])/2,y),new e.Vector3(t["rel_x"]*P(t)-D(t["filterWidth"])/2,t["rel_y"]*S(t)-D(t["filterHeight"])/2,y),new e.Vector3(t["rel_x"]*P(t)-D(t["filterWidth"])/2,t["rel_y"]*S(t)+D(t["filterHeight"])/2,y),new e.Vector3(t["rel_x"]*_,t["rel_y"]*_,k)],w.faces=[new e.Face3(0,1,2),new e.Face3(0,2,3),new e.Face3(1,0,4),new e.Face3(2,1,4),new e.Face3(3,2,4),new e.Face3(0,3,4)];var I=new e.Mesh(w,u);O.add(I);var N=new e.EdgesGeometry(w),B=new e.LineSegments(N,l);O.add(B)}A&&(o=G(t["depth"].toString()),o.position.copy(r.position).sub(new e.Vector3(P(t)/2+2,S(t)/2+2,0)),j.add(o),o=G(t["width"].toString()),o.position.copy(r.position).sub(new e.Vector3(P(t)/2+3,0,C(t["depth"])/2+3)),j.add(o),o=G(t["height"].toString()),o.position.copy(r.position).sub(new e.Vector3(0,-S(t)/2-3,C(t["depth"])/2+3)),j.add(o));x&&n<p.length-1&&(s=G(t["filterWidth"].toString()),s.position.copy(i.position).sub(new e.Vector3(D(t["filterWidth"])/2,-3,C(t["depth"])/2)),j.add(s),s=G(t["filterHeight"].toString()),s.position.copy(i.position).sub(new e.Vector3(-1,D(t["filterHeight"])/2,C(t["depth"])/2)),j.add(s))})),m.forEach((function(t,n){var a=new e.BoxGeometry(E(2),C(t),E(2)),r=new e.Mesh(a,h);r.position.set(0,0,ee[p.length+n]),R.add(r);var i=new e.EdgesGeometry(a),o=new e.LineSegments(i,l);o.position.set(0,0,ee[p.length+n]),R.add(o);var s=new e.Vector3(0,0,1),c=new e.Vector3(0,0,ee[p.length+n]-g-E(2)/2+1),d=g-2,u=g/3,m=5,f=new e.ArrowHelper(s,c,d,0,u,m);if(O.add(f),A){var b=G(t.toString());b.position.copy(r.position).sub(new e.Vector3(3,C(t)/2+3,3)),j.add(b)}})),I.add(R),I.add(M),I.add(O),I.add(j);var ne=1e9,ae=1e9,re=-1e9,ie=-1e9;R.children.map((function(t){if(t instanceof e.Object3D){var n=t.position.clone();n.applyMatrix4(B.matrixWorld),ne=Math.min(Math.abs(n.x),ne),ae=Math.min(Math.abs(n.y),ae),re=Math.max(Math.abs(n.x),re),ie=Math.max(Math.abs(n.y),ie)}}));var oe=Math.abs(B.right-B.left)/Math.abs(re-ne),se=Math.abs(B.bottom-B.top)/Math.abs(ie-ae);B.zoom=Math.min(oe,se),z.zoom0=B.zoom,z.reset()}function F(e){while(e.children.length>0)F(e.children[0]),e.remove(e.children[0]);e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose(),e.texture&&e.texture.dispose()}function G(t,n){var a=n||{},r=a.fontface||"Helvetica",i=a.fontsize||120,o=document.createElement("canvas"),s=o.getContext("2d");s.font=i+"px "+r,s.fillStyle="rgba(0, 0, 0, 1.0)",s.fillText(t,0,i);var c=new e.Texture(o);c.minFilter=e.LinearFilter,c.needsUpdate=!0;var l=new e.SpriteMaterial({map:c}),h=new e.Sprite(l);return h.scale.set(10,5,1),h.center.set(0,1),h}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color1_,a=void 0===n?r:n,l=t.color2_,p=void 0===l?i:l,m=t.color3_,g=void 0===m?o:m,f=t.rectOpacity_,b=void 0===f?s:f,v=t.filterOpacity_,w=void 0===v?c:v;r=a,i=p,o=g,s=b,c=w,h.color=new e.Color(r),d.color=new e.Color(i),u.color=new e.Color(o),h.opacity=s,d.opacity=c,u.opacity=c}function W(e,t){n=e,a=t,N.setSize(e,t);var r=window.devicePixelRatio||1;B.left=-e/r,B.right=e/r,B.top=t/r,B.bottom=-t/r,B.updateProjectionMatrix()}function Y(){z.reset()}return H(),{redraw:U,restartRenderer:H,style:V,rendererResize:W,refresh:Y}}n("f559");
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ye=n("b94c"),ke=ye.applyColorMap;function Ae(e,t,n){var a=window.tf,r=e.layers.length-1;while(r>=0){if(e.layers[r].getClassName().startsWith("Conv"))break;r--}a.util.assert(r>=0,"Failed to find a convolutional layer in model");var i=e.layers[r],o=i.output,s=a.model({inputs:e.inputs,outputs:o}),c=a.input({shape:o.shape.slice(1)});r++;var l=c;while(r<e.layers.length)l=e.layers[r++].apply(l);var h=a.model({inputs:c,outputs:l});return a.tidy((function(){var e=function(e){return h.apply(e,{training:!0}).gather([t],1)},r=a.grad(e),i=s.apply(n),o=r(i),c=a.mean(o,[0,1,2]),l=i.mul(c),d=l.mean(-1);return d=d.relu(),d=d.div(a.add(d.max(),a.tensor([1e-20],[],"float32"))).expandDims(-1),d=a.image.resizeBilinear(d,[n.shape[1],n.shape[2]]),d=ke(d),d.div(d.max()).mul(255)}))}var xe=n("df7c"),_e=n.n(xe);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(n,!0).forEach((function(t){Object(k["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={components:{"title-bar":F,"bar-chart":Q,"horizontal-bar-chart":ne,"vue-canvas":ce,"vue-upload-canvas":me},data:function(){return{currentPath:"/".concat(_e.a.basename(this.$route.path)),def:{"/mnist":{inference:{modelDefinition:{architecture_:[{height:28,width:28,depth:1,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:28,width:28,depth:16,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:14,width:14,depth:32,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:7,width:7,depth:32,filterHeight:1,filterWidth:1,rel_x:this.randConvPos(),rel_y:this.randConvPos()}],architecture2_:[40,10]},model:{path:"custom_cnn/model.json"}},trainingData:{name:"MNIST",html:'&nbsp;&nbsp;MNIST database<i>(Modified National Institute of Standards and Technology database)</i>는 숫자 필기체 이미지 데이터베이스 이다.\n                  <br />\n                  &nbsp;&nbsp;이미지는 28 x 28 사이즈의 gray scale이며 학습 데이터 60000장, 테스트 데이터 10000장으로 구성 되어있다. 클래스는 0 부터 9까지 총 10개 이다.\n                  <br />\n                  &nbsp;&nbsp;분류 난이도가 쉬운 편이고 필요한 모델의 용량도 작은 편이며 오랫동안 축척된 벤치마크가 있어서 처음 머신러닝을 접하는 사람들이 이용하기 좋은 데이터셋이다.\n                  <br />\n                  &nbsp;&nbsp;깊은 네트워크 구조 + augmentation + 앙상블들을 이용하면 99.79% 이상의 정확도 까지 얻을 수 있다.<i>(<a href="https://rodrigob.github.io/are_we_there_yet/build/classification_datasets_results.html#4d4e495354">MNIST - who is the best in MNIST</a>)</i>\n                  '},training:{name:"Training",html:'&nbsp;&nbsp;keras&tensorflow를 이용한 모델 정의는 <a href="https://github.com/whwnsdlr1/tensorflow.js-classification-example/train/custom_cnn/model.py">https://github.com/whwnsdlr1/tensorflow.js-classification-example/train/custom_cnn/model.py</a> 파일에\n                  학습 코드는 <a href="https://github.com/whwnsdlr1/tensorflow.js-classification-example/train/custom_cnn/train.py">https://github.com/whwnsdlr1/tensorflow.js-classification-example/train/custom_cnn/train.py</a>에서 찾을 수 있다.\n                  <br /><br />\n                  &nbsp;&nbsp;60000장의 학습 데이터를 다시 50000장과 10000장의 학습, 검증 데이터로 나눴다.\n                  &nbsp;&nbsp;아래의 하이퍼파리미터로 학습 하였고 검증 데이터에 대해서 가장 낮은 loss를 가지는 epoch 모델을 저장하였다.\n                  <br />\n                  &nbsp;&nbsp;&nbsp;&nbsp;optimizer: adam\n                  <br />\n                  &nbsp;&nbsp;&nbsp;&nbsp;loss: cross-entropy\n                  <br />\n                  &nbsp;&nbsp;&nbsp;&nbsp;learning-rate: 0.001\n                  <br />\n                  &nbsp;&nbsp;&nbsp;&nbsp;batch-size: 32\n                  <br />\n                  &nbsp;&nbsp;&nbsp;&nbsp;epochs: 100 // but with early stoppping, learning process stopped at epoch-17\n                  <br />\n                  &nbsp;&nbsp;학습에는 i7-8700 CPU / tensorflow 2.0이 사용되었고 3분에 채 안걸렸다.\n                  &nbsp;&nbsp;최종 모델의 학습 데이터에 대한 accuracy는 0.9979, 검증 데이터는 0.9886, 테스트 데이터는 0.9907였다.\n                  '},archetecture:{name:"Custom-CNN",data:n("0498")},result:{chartData:[0,1,2,3,4,5,6,7,8,9].map((function(e){return{name:e+"",value:0}})),classNames:[0,1,2,3,4,5,6,7,8,9]}},"/imagenet":{inference:{modelDefinition:{architecture_:[{height:224,width:224,depth:3,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:224,width:224,depth:16,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:112,width:112,depth:32,filterHeight:1,filterWidth:1,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:56,width:56,depth:16,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:56,width:56,depth:128,filterHeight:1,filterWidth:1,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:56,width:56,depth:16,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:56,width:56,depth:128,filterHeight:1,filterWidth:1,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:28,width:28,depth:32,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:28,width:28,depth:256,filterHeight:1,filterWidth:1,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:28,width:28,depth:32,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:28,width:28,depth:256,filterHeight:1,filterWidth:1,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:14,width:14,depth:64,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:14,width:14,depth:512,filterHeight:1,filterWidth:1,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:14,width:14,depth:64,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:14,width:14,depth:512,filterHeight:3,filterWidth:3,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:14,width:14,depth:128,filterHeight:1,filterWidth:1,rel_x:this.randConvPos(),rel_y:this.randConvPos()},{height:14,width:14,depth:1e3,filterHeight:14,filterWidth:14,rel_x:this.randConvPos(),rel_y:this.randConvPos()}],architecture2_:[1e3]},model:{path:"darknet_tiny/model.json"}},trainingData:{name:"Imagenet",html:"&nbsp;&nbsp;이미지넷은 인터넷에 있는 다양한 이미지들을 모아서 만든 데이터 셋으로 총 이미지 14M, 클래스 21841로 구성 되어있다.\n                  통상 머신러닝에서 이미지넷이라고 하면 전체 데이터셋가 아닌 ILSVRC2012<i>(Large Scale Visual Recognition Challenge 2012)</i>에서 정제한 하위 데이터셋을 의미한다.\n                  IRSLV2012 데이터의 경우 클래스는 1000개 이며 학습 이미지는 이미지넷에서 가져온 이미지 1.2M개, 검증 및 테스트 데이터는 기존 이미지넷과 겹치지 않는 이미지들을 인터넷에서 수집하였다.\n                  <br />\n                  &nbsp;&nbsp;이 데이터셋은 다양한 클래스에 대해서 많은 양의 데이터로 구성 되어 있으므로 데이터가 부족한 학습 문제 해결을 위한 transfer learning에 많이 이용되는 데이터셋이다.\n                  transper learning은 모달리티가 유사하다면<i>(natural scene, picture, medical...)</i> 특징을 표현, 추출하는 방법이 비슷할 것이라고 가정하여 이미지넷으로 먼저 학습하고 문제의 데이터로 파인튜닝하여 일반화에러를 줄이는 방법이다.\n                  "},training:{name:"Training",html:'\n                  &nbsp;&nbsp;학습은 직접하지 않았고 모델 구조 및 weight 모두 Tiny Darknet을 사용하였다. 자세한 내용은 <a href="https://pjreddie.com/darknet/tiny-darknet/">https://pjreddie.com/darknet/tiny-darknet/</a>에서 볼 수 있다.\n                  <br />\n                  &nbsp;&nbsp;darknet (only classify model) to keras model 변환 코드는 <a href="https://github.com/whwnsdlr1/tensorflow.js-classification-example/train/darknet_tiny/convert.py">convert.py</a>에서 확인 할 수 있다.\n                  '},archetecture:{name:"Tiny Darknet",data:n("52c6")},result:{chartData:[0,1,2,3,4].map((function(e){return{name:e,value:0}})),classNames:n("bd05")}}},alexnet:void 0,model:void 0,isRunning:!1,colors:["#E6194B","#F58231","#FFE119","#BFEF45","#3CB44B","#42D4F4","#4363D8","#911EB4","#F032E6","#A9A9A9"]}},methods:{listen__x__onmove:function(e){this.$router.push("/tensorflow.js-classification-example".concat(e)),this.currentPath=e},listen__view_model__onresize:function(){if(void 0!=this.alexnet){var e=getComputedStyle(this.$refs["view-model"]);this.alexnet.rendererResize(parseInt(e.width),parseInt(e.height))}},listen__view_model_refresh__onclick:function(){void 0!=this.alexnet&&this.alexnet.refresh()},listen__view_model_help__onclick:function(){var e=B.createElement("DIV",{},{});B.createElement("H3",{fontSize:"20px",marginBottom:"0px"},{parent:e,text:"control"}),B.createElement("HR",{},{parent:e});var t={fontSize:"16px",lineHeight:1.5},n={Orbit:"left mouse / touch: one-finger move",Zoom:"middle mouse, or mousewheel / touch: two-finger spread or squish",Pan:"right mouse, or arrow keys / touch: two-finger move"};for(var a in n){var r=B.createElement("DIV",{},{parent:e});B.createElement("SPAN",Ee({},t,{fontWeight:"bold",paddingRight:"10px"}),{parent:r,text:"".concat(a,":")}),B.createElement("SPAN",t,{parent:r,text:n[a]})}B.createElement("H3",{fontSize:"20px",marginTop:"30px",marginBottom:"0px"},{parent:e,text:"powered by NN SVG"}),B.createElement("HR",{},{parent:e});for(var i=0,o=[{head:"github",type:"a",text:"https://github.com/alexlenail/NN-SVG"}];i<o.length;i++){var s=o[i],c=B.createElement("DIV",{},{parent:e});B.createElement("SPAN",Ee({},t,{fontWeight:"bold",paddingRight:"10px"}),{parent:c,text:"".concat(s.head,":")}),"span"==s.type?B.createElement("SPAN",t,{parent:c,text:s.text}):"a"==s.type?B.createElement("A",t,{parent:c,text:s.text,attrs:{href:s.text}}):"mail"==s.type&&B.createElement("A",t,{parent:c,text:s.text,attrs:{href:"mailto:".concat(s.text)}})}this.$mModal.show("dialog",{dom:e,buttons:[{title:"confirm",class:["green"],onclick:function(){}}]})},listen__inference__onclick:function(){var e=this;e.$refs["btn-inference-run"].disabled=!0,e.isRunning=!0;var t=window.tf;e.doubleRaf(Object(y["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,s,c,l,h,d,u,p,m,g,f,b,v,w,y,k,A,x,_,C,E,D,P,S,R,M,O,j,I;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,t.setBackend("cpu"),void 0!=e.model&&e.model.name==e.currentPath){n.next=12;break}if(void 0!=e.pageDef.inference.model){n.next=5;break}throw new Error("no model file to load. upload model file first.");case 5:return a=new Date,n.t0=e.currentPath,n.next=9,t.loadLayersModel(e.pageDef.inference.model.path);case 9:n.t1=n.sent,e.model={name:n.t0,net:n.t1},e.$toasted.show("elapsed time - load ".concat(e.currentPath," model: ").concat(new Date-a," ms"),{type:"error",duration:2e3,position:"bottom-center"});case 12:if(void 0!=e.model){n.next=14;break}throw new Error("can't load model.");case 14:if("/mnist"!=e.currentPath){n.next=35;break}for(r=e.$refs["vue-canvas"].getData(),i=B.resizeImg(r.data,r.width,r.height,28,28),o=new Float32Array(784),s=0;s<o.length;s++)c=4*s,o[s]=(i[c]+i[c+1]+i[c+2])/765;for(l=t.tensor(o,[1,28,28,1],"float32"),h=new Date,d=e.model.net.predict(l),e.$toasted.show("elapsed time - predict: ".concat(new Date-h," ms"),{type:"error",duration:2e3,position:"bottom-center"}),u=d.dataSync(),p=[].slice.call(u).map((function(e,t){return[e,t]})).sort((function(e,t){return t[0]-e[0]})),h=new Date,m=Ae(e.model.net,p[0][1],l).dataSync(),e.$toasted.show("elapsed time - cal gradCAM: ".concat(new Date-h," ms"),{type:"error",duration:2e3,position:"bottom-center"}),g=new Array(3136),f=0;f<784;f++)b=3*f,v=4*f,g[v]=m[b],g[v+1]=m[b+1],g[v+2]=m[b+2],g[v+3]=255;e.setGradCamCanvas(B.resizeImg(g,28,28,150,150)),w=p.map((function(e,t){return[e[1],t]})).sort((function(e,t){return e[0]-t[0]})).map((function(t){return e.colors[t[1]]})),e.pageDef.result.chartData=Array.prototype.slice.call(u).map((function(t,n){return{name:e.pageDef.result.classNames[n]+"",value:t,color:w[n]}})),n.next=56;break;case 35:if("/imagenet"!=e.currentPath){n.next=55;break}for(y=e.$refs["vue-upload-canvas"].getData(),k=B.resizeImg(y.data,y.width,y.height,224,224),A=new Float32Array(150528),x=0;x<A.length;x+=3)_=x/3*4,A[x]=k[_]/255,A[x+1]=k[_+1]/255,A[x+2]=k[_+2]/255;for(C=t.tensor(A,[1,224,224,3],"float32"),E=new Date,D=e.model.net.predict(C),e.$toasted.show("elapsed time - predict: ".concat(new Date-E," ms"),{type:"error",duration:2e3,position:"bottom-center"}),P=D.dataSync(),S=[].slice.call(P).map((function(e,t){return[e,t]})).sort((function(e,t){return t[0]-e[0]})),E=new Date,R=Ae(e.model.net,S[0][1],C).dataSync(),e.$toasted.show("elapsed time - cal gradCAM: ".concat(new Date-E," ms"),{type:"error",duration:2e3,position:"bottom-center"}),M=new Array(200704),O=0;O<50176;O++)j=3*O,I=4*O,M[I]=R[j],M[I+1]=R[j+1],M[I+2]=R[j+2],M[I+3]=255;e.setGradCamCanvas(B.resizeImg(M,224,224,150,150)),e.pageDef.result.chartData=S.slice(0,5).map((function(t,n){return{name:e.pageDef.result.classNames[t[1]]+"",value:t[0],color:e.colors[n]}})),n.next=56;break;case 55:throw new Error("wrong page.");case 56:n.next=62;break;case 58:n.prev=58,n.t2=n["catch"](0),console.log(n.t2),e.$toasted.show(n.t2,{type:"error",duration:2e3,position:"bottom-center"});case 62:return n.prev=62,e.$refs["btn-inference-run"].disabled=!1,e.isRunning=!1,n.finish(62);case 66:case"end":return n.stop()}}),n,null,[[0,58,62,66]])}))),100)},randConvPos:function(){return.8*Math.random()-.4},argMax:function(e){return[].map.call(e,(function(e,t){return[e,t]})).reduce((function(e,t){return t[0]>e[0]?t:e}))[1]},setGradCamCanvas:function(e){var t=this.$refs["grad-cam-canvas"],n=t.getContext("2d",{alpha:!1});if(n.clearRect(0,0,n.canvas.width,n.canvas.height),void 0!=e){for(var a=n.createImageData(t.width,t.height),r=t.width*t.height*4,i=0;i<r;i++)a.data[i]=e[i];n.putImageData(a,0,0)}},doubleRaf:function(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}},watch:{currentPath:function(e){void 0!=this.alexnet&&("/mnist"!=e&&"/imagenet"!=e||this.alexnet.redraw(this.def[e].inference.modelDefinition)),this.isRunning=!1,this.def[e].result.chartData=[],this.setGradCamCanvas()}},computed:{pageDef:function(){return this.def[this.currentPath]}},mounted:function(){var e=this;this.setGradCamCanvas();var t=this,a=setInterval((function(){void 0!=window.THREE&&(n("6e77"),t.alexnet=we(window.THREE,t.$refs["view-model"]),t.alexnet.redraw(e.def[e.currentPath].inference.modelDefinition),fe()(t.$refs["view-model"],t._.debounce(t.listen__view_model__onresize,10)),clearInterval(a))}),500);t.$refs["btn-inference-run"].onclick=t._.debounce(t.listen__inference__onclick,100)},beforeDestory:function(){fe.a.unbind(this.$refs["view-model"])}},Pe=De,Se=(n("c266"),n("44ba"),Object(c["a"])(Pe,v,w,!1,null,"7d58492e",null)),Re=Se.exports;a["a"].use(d["a"]);var Me=new d["a"]({routes:[{path:"/tensorflow.js-classification-example/mnist",component:Re},{path:"/tensorflow.js-classification-example/imagenet",component:Re},{path:"*",component:b}],mode:"history"}),Oe=n("415c"),je=n.n(Oe),Ie=n("a65d"),Ne=n.n(Ie),Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-modal"},[n("div",{staticClass:"content"},[n("div",{staticClass:"row0"}),n("div",{staticClass:"row1"}),n("div",{staticClass:"row2"},e._l(e.dButtons,(function(t,a){return n("button",{key:"btn-"+a,class:t.class,on:{click:function(n){return e.listen__x__onclick(t.onclick)}}},[e._v(e._s(t.title))])})),0)])])},ze=[],Te={methods:{listen__x__onclick:function(e){e(),this.$destroy()},set:function(e){this.$el.querySelector(".row1").appendChild(e)},doubleRaf:function(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}},mounted:function(){var e=this;this.$el.querySelector(".row1").appendChild(this.dDom),this.doubleRaf((function(){void 0!=e.onafterdomattached&&e.onafterdomattached(e.dDom)}))},destroyed:function(){document.body.removeChild(this.$el)}},He=Te,Le=(n("5b51"),Object(c["a"])(He,Be,ze,!1,null,"080821d0",null)),Ue=Le.exports,Fe={install:function(e){var t=e.extend(Ue);e.prototype.$mModal={show:function(e,n){if("dialog"===e){var a=new t({el:document.createElement("DIV"),data:function(){return{dType:"dialog",dDom:n.dom,dButtons:n.buttons,onafterdomattached:n.onafterdomattached}}});document.body.appendChild(a.$el)}}}}};a["a"].config.productionTip=!1,a["a"].use(je.a),a["a"].use(Ne.a),a["a"].use(Fe),new a["a"]({render:function(e){return e(h)},router:Me,mModal:Fe,component:{App:h}}).$mount("#app")},"5b51":function(e,t,n){"use strict";var a=n("a8cd"),r=n.n(a);r.a},"5e7a":function(e,t,n){},"64a9":function(e,t,n){},6621:function(e,t,n){},"6e77":function(e,t,n){"use strict";n.r(t);n("ac6a"),n("673e");var a=window.THREE;a.OrbitControls=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new a.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=20,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:a.MOUSE.LEFT,ZOOM:a.MOUSE.MIDDLE,PAN:a.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),c=s.NONE},this.update=function(){var t=new a.Vector3,i=(new a.Quaternion).setFromUnitVectors(e.up,new a.Vector3(0,1,0)),o=i.clone().inverse(),g=new a.Vector3,f=new a.Quaternion;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(i),h.setFromVector3(t),n.autoRotate&&c===s.NONE&&E(_()),h.theta+=d.theta,h.phi+=d.phi,h.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,h.theta)),h.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=u,h.radius=Math.max(n.minDistance,Math.min(n.maxDistance,h.radius)),n.target.add(p),t.setFromSpherical(h),t.applyQuaternion(o),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor,p.multiplyScalar(1-n.dampingFactor)):(d.set(0,0,0),p.set(0,0,0)),u=1,!!(m||g.distanceToSquared(n.object.position)>l||8*(1-f.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),g.copy(n.object.position),f.copy(n.object.quaternion),m=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",te,!1),n.domElement.removeEventListener("mousedown",Z,!1),n.domElement.removeEventListener("wheel",Q,!1),n.domElement.removeEventListener("touchstart",K,!1),n.domElement.removeEventListener("touchend",ee,!1),n.domElement.removeEventListener("touchmove",q,!1),document.removeEventListener("mousemove",X,!1),document.removeEventListener("mouseup",J,!1),window.removeEventListener("keydown",$,!1)};var n=this,r={type:"change"},i={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},c=s.NONE,l=1e-6,h=new a.Spherical,d=new a.Spherical,u=1,p=new a.Vector3,m=!1,g=new a.Vector2,f=new a.Vector2,b=new a.Vector2,v=new a.Vector2,w=new a.Vector2,y=new a.Vector2,k=new a.Vector2,A=new a.Vector2,x=new a.Vector2;function _(){return 2*Math.PI/60/60*n.autoRotateSpeed}function C(){return Math.pow(.95,n.zoomSpeed)}function E(e){d.theta-=e}function D(e){d.phi-=e}var P=function(){var e=new a.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),p.add(e)}}(),S=function(){var e=new a.Vector3;return function(t,a){!0===n.screenSpacePanning?e.setFromMatrixColumn(a,1):(e.setFromMatrixColumn(a,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),p.add(e)}}(),R=function(){var e=new a.Vector3;return function(t,a){var r=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var i=n.object.position;e.copy(i).sub(n.target);var o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),P(2*t*o/r.clientHeight,n.object.matrix),S(2*a*o/r.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(P(t*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),S(a*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function M(e){n.object.isPerspectiveCamera?u/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function O(e){n.object.isPerspectiveCamera?u*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function j(e){g.set(e.clientX,e.clientY)}function I(e){k.set(e.clientX,e.clientY)}function N(e){v.set(e.clientX,e.clientY)}function B(e){f.set(e.clientX,e.clientY),b.subVectors(f,g).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;E(2*Math.PI*b.x/t.clientWidth),D(2*Math.PI*b.y/t.clientHeight),g.copy(f),n.update()}function z(e){A.set(e.clientX,e.clientY),x.subVectors(A,k),x.y>0?M(C()):x.y<0&&O(C()),k.copy(A),n.update()}function T(e){w.set(e.clientX,e.clientY),y.subVectors(w,v).multiplyScalar(n.panSpeed),R(y.x,y.y),v.copy(w),n.update()}function H(){}function L(e){e.deltaY<0?O(C()):e.deltaY>0&&M(C()),n.update()}function U(e){switch(e.keyCode){case n.keys.UP:R(0,n.keyPanSpeed),n.update();break;case n.keys.BOTTOM:R(0,-n.keyPanSpeed),n.update();break;case n.keys.LEFT:R(n.keyPanSpeed,0),n.update();break;case n.keys.RIGHT:R(-n.keyPanSpeed,0),n.update();break}}function F(e){g.set(e.touches[0].pageX,e.touches[0].pageY)}function G(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+a*a);k.set(0,r)}if(n.enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(i,o)}}function V(e){f.set(e.touches[0].pageX,e.touches[0].pageY),b.subVectors(f,g).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;E(2*Math.PI*b.x/t.clientWidth),D(2*Math.PI*b.y/t.clientHeight),g.copy(f),n.update()}function W(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+a*a);A.set(0,r),x.set(0,Math.pow(A.y/k.y,n.zoomSpeed)),M(x.y),k.copy(A)}if(n.enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(i,o),y.subVectors(w,v).multiplyScalar(n.panSpeed),R(y.x,y.y),v.copy(w)}n.update()}function Y(){}function Z(e){if(!1!==n.enabled){switch(e.preventDefault(),e.button){case n.mouseButtons.ORBIT:if(!1===n.enableRotate)return;j(e),c=s.ROTATE;break;case n.mouseButtons.ZOOM:if(!1===n.enableZoom)return;I(e),c=s.DOLLY;break;case n.mouseButtons.PAN:if(!1===n.enablePan)return;N(e),c=s.PAN;break}c!==s.NONE&&(document.addEventListener("mousemove",X,!1),document.addEventListener("mouseup",J,!1),n.dispatchEvent(i))}}function X(e){if(!1!==n.enabled)switch(e.preventDefault(),c){case s.ROTATE:if(!1===n.enableRotate)return;B(e);break;case s.DOLLY:if(!1===n.enableZoom)return;z(e);break;case s.PAN:if(!1===n.enablePan)return;T(e);break}}function J(e){!1!==n.enabled&&(H(e),document.removeEventListener("mousemove",X,!1),document.removeEventListener("mouseup",J,!1),n.dispatchEvent(o),c=s.NONE)}function Q(e){!1===n.enabled||!1===n.enableZoom||c!==s.NONE&&c!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(i),L(e),n.dispatchEvent(o))}function $(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&U(e)}function K(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===n.enableRotate)return;F(e),c=s.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;G(e),c=s.TOUCH_DOLLY_PAN;break;default:c=s.NONE}c!==s.NONE&&n.dispatchEvent(i)}}function q(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===n.enableRotate)return;if(c!==s.TOUCH_ROTATE)return;V(e);break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;if(c!==s.TOUCH_DOLLY_PAN)return;W(e);break;default:c=s.NONE}}function ee(e){!1!==n.enabled&&(Y(e),n.dispatchEvent(o),c=s.NONE)}function te(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",te,!1),n.domElement.addEventListener("mousedown",Z,!1),n.domElement.addEventListener("wheel",Q,!1),n.domElement.addEventListener("touchstart",K,!1),n.domElement.addEventListener("touchend",ee,!1),n.domElement.addEventListener("touchmove",q,!1),window.addEventListener("keydown",$,!1),this.update()},a.OrbitControls.prototype=Object.create(a.EventDispatcher.prototype),a.OrbitControls.prototype.constructor=a.OrbitControls,Object.defineProperties(a.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}})},"7ee7":function(e,t,n){"use strict";var a=n("5e7a"),r=n.n(a);r.a},8361:function(e,t,n){"use strict";var a=n("8f82"),r=n.n(a);r.a},"8f82":function(e,t,n){},a52b:function(e,t,n){"use strict";var a=n("6621"),r=n.n(a);r.a},a8cd:function(e,t,n){},b94c:function(e,t,n){"use strict";n.r(t),n.d(t,"applyColorMap",(function(){return r}));n("673e");var a=[[0,0,127],[0,0,128],[0,0,129],[0,0,130],[0,0,131],[0,0,132],[0,0,133],[0,0,134],[0,0,135],[0,0,136],[0,0,137],[0,0,138],[0,0,139],[0,0,140],[0,0,141],[0,0,142],[0,0,143],[0,0,144],[0,0,145],[0,0,146],[0,0,147],[0,0,148],[0,0,149],[0,0,150],[0,0,152],[0,0,153],[0,0,154],[0,0,155],[0,0,156],[0,0,157],[0,0,158],[0,0,159],[0,0,160],[0,0,161],[0,0,162],[0,0,163],[0,0,164],[0,0,165],[0,0,166],[0,0,167],[0,0,168],[0,0,169],[0,0,170],[0,0,171],[0,0,172],[0,0,173],[0,0,174],[0,0,175],[0,0,176],[0,0,177],[0,0,178],[0,0,179],[0,0,180],[0,0,181],[0,0,182],[0,0,183],[0,0,184],[0,0,185],[0,0,186],[0,0,187],[0,0,188],[0,0,189],[0,0,190],[0,0,191],[0,0,192],[0,0,193],[0,0,194],[0,0,195],[0,0,196],[0,0,197],[0,0,198],[0,0,199],[0,0,201],[0,0,202],[0,0,203],[0,0,204],[0,0,205],[0,0,206],[0,0,207],[0,0,208],[0,0,209],[0,0,210],[0,0,211],[0,0,212],[0,0,213],[0,0,214],[0,0,215],[0,0,216],[0,0,217],[0,0,218],[0,0,219],[0,0,220],[0,0,221],[0,0,222],[0,0,223],[0,0,224],[0,0,225],[0,0,226],[0,0,227],[0,0,228],[0,0,229],[0,0,230],[0,0,231],[0,0,232],[0,0,233],[0,0,234],[0,0,235],[0,0,236],[0,0,237],[0,0,238],[0,0,239],[0,0,240],[0,0,241],[0,0,242],[0,0,243],[0,0,244],[0,0,245],[0,0,246],[0,0,247],[0,0,249],[0,0,250],[0,0,251],[0,0,252],[0,0,253],[0,0,254],[0,0,255],[0,1,255],[0,2,255],[0,3,255],[0,4,255],[0,5,255],[0,6,255],[0,7,255],[0,8,255],[0,9,255],[0,10,255],[0,11,255],[0,12,255],[0,13,255],[0,14,255],[0,15,255],[0,16,255],[0,17,255],[0,18,255],[0,19,255],[0,20,255],[0,21,255],[0,22,255],[0,23,255],[0,24,255],[0,25,255],[0,26,255],[0,27,255],[0,28,255],[0,29,255],[0,30,255],[0,31,255],[0,32,255],[0,33,255],[0,34,255],[0,35,255],[0,36,255],[0,37,255],[0,38,255],[0,39,255],[0,40,255],[0,41,255],[0,43,255],[0,44,255],[0,45,255],[0,46,255],[0,47,255],[0,48,255],[0,49,255],[0,50,255],[0,51,255],[0,52,255],[0,53,255],[0,54,255],[0,55,255],[0,56,255],[0,57,255],[0,58,255],[0,59,255],[0,60,255],[0,61,255],[0,62,255],[0,63,255],[0,64,255],[0,65,255],[0,66,255],[0,67,255],[0,68,255],[0,69,255],[0,70,255],[0,71,255],[0,72,255],[0,73,255],[0,74,255],[0,75,255],[0,76,255],[0,77,255],[0,78,255],[0,79,255],[0,80,255],[0,81,255],[0,82,255],[0,83,255],[0,84,255],[0,85,255],[0,86,255],[0,87,255],[0,88,255],[0,89,255],[0,90,255],[0,92,255],[0,93,255],[0,94,255],[0,95,255],[0,96,255],[0,97,255],[0,98,255],[0,99,255],[0,100,255],[0,101,255],[0,102,255],[0,103,255],[0,104,255],[0,105,255],[0,106,255],[0,107,255],[0,108,255],[0,109,255],[0,110,255],[0,111,255],[0,112,255],[0,113,255],[0,114,255],[0,115,255],[0,116,255],[0,117,255],[0,118,255],[0,119,255],[0,120,255],[0,121,255],[0,122,255],[0,123,255],[0,124,255],[0,125,255],[0,126,255],[0,127,255],[0,128,255],[0,129,255],[0,130,255],[0,131,255],[0,132,255],[0,133,255],[0,134,255],[0,135,255],[0,136,255],[0,137,255],[0,138,255],[0,140,255],[0,141,255],[0,142,255],[0,143,255],[0,144,255],[0,145,255],[0,146,255],[0,147,255],[0,148,255],[0,149,255],[0,150,255],[0,151,255],[0,152,255],[0,153,255],[0,154,255],[0,155,255],[0,156,255],[0,157,255],[0,158,255],[0,159,255],[0,160,255],[0,161,255],[0,162,255],[0,163,255],[0,164,255],[0,165,255],[0,166,255],[0,167,255],[0,168,255],[0,169,255],[0,170,255],[0,171,255],[0,172,255],[0,173,255],[0,174,255],[0,175,255],[0,176,255],[0,177,255],[0,178,255],[0,179,255],[0,180,255],[0,181,255],[0,182,255],[0,183,255],[0,184,255],[0,185,255],[0,186,255],[0,187,255],[0,189,255],[0,190,255],[0,191,255],[0,192,255],[0,193,255],[0,194,255],[0,195,255],[0,196,255],[0,197,255],[0,198,255],[0,199,255],[0,200,255],[0,201,255],[0,202,255],[0,203,255],[0,204,255],[0,205,255],[0,206,255],[0,207,255],[0,208,255],[0,209,255],[0,210,255],[0,211,255],[0,212,255],[0,213,255],[0,214,255],[0,215,255],[0,216,255],[0,217,255],[0,218,255],[0,219,255],[0,220,255],[0,221,255],[0,222,255],[0,223,255],[0,224,255],[0,225,255],[0,226,255],[0,227,255],[0,228,255],[0,229,255],[0,230,255],[0,231,255],[0,232,255],[0,233,255],[0,234,255],[0,235,255],[0,237,255],[0,238,255],[0,239,255],[0,240,255],[0,241,255],[0,242,255],[0,243,255],[0,244,255],[0,245,255],[0,246,255],[0,247,255],[0,248,255],[0,249,255],[0,250,255],[0,251,255],[0,252,255],[0,253,255],[0,254,255],[0,255,254],[1,255,253],[2,255,252],[3,255,251],[4,255,250],[5,255,249],[6,255,248],[7,255,247],[8,255,246],[9,255,245],[10,255,244],[11,255,243],[12,255,242],[13,255,241],[14,255,240],[15,255,239],[16,255,238],[17,255,237],[18,255,236],[19,255,235],[20,255,234],[21,255,233],[22,255,232],[23,255,231],[24,255,230],[25,255,229],[26,255,228],[27,255,227],[28,255,226],[29,255,225],[31,255,223],[32,255,222],[33,255,221],[34,255,220],[35,255,219],[36,255,218],[37,255,217],[38,255,216],[39,255,215],[40,255,214],[41,255,213],[42,255,212],[43,255,211],[44,255,210],[45,255,209],[46,255,208],[47,255,207],[48,255,206],[49,255,205],[50,255,204],[51,255,203],[52,255,202],[53,255,201],[54,255,200],[55,255,199],[56,255,198],[57,255,197],[58,255,196],[59,255,195],[60,255,194],[61,255,193],[62,255,192],[63,255,191],[64,255,190],[65,255,189],[66,255,188],[67,255,187],[68,255,186],[69,255,185],[70,255,184],[71,255,183],[72,255,182],[73,255,181],[74,255,180],[75,255,179],[76,255,178],[77,255,177],[79,255,175],[80,255,174],[81,255,173],[82,255,172],[83,255,171],[84,255,170],[85,255,169],[86,255,168],[87,255,167],[88,255,166],[89,255,165],[90,255,164],[91,255,163],[92,255,162],[93,255,161],[94,255,160],[95,255,159],[96,255,158],[97,255,157],[98,255,156],[99,255,155],[100,255,154],[101,255,153],[102,255,152],[103,255,151],[104,255,150],[105,255,149],[106,255,148],[107,255,147],[108,255,146],[109,255,145],[110,255,144],[111,255,143],[112,255,142],[113,255,141],[114,255,140],[115,255,139],[116,255,138],[117,255,137],[118,255,136],[119,255,135],[120,255,134],[121,255,133],[122,255,132],[123,255,131],[124,255,130],[125,255,129],[126,255,128],[128,255,126],[129,255,125],[130,255,124],[131,255,123],[132,255,122],[133,255,121],[134,255,120],[135,255,119],[136,255,118],[137,255,117],[138,255,116],[139,255,115],[140,255,114],[141,255,113],[142,255,112],[143,255,111],[144,255,110],[145,255,109],[146,255,108],[147,255,107],[148,255,106],[149,255,105],[150,255,104],[151,255,103],[152,255,102],[153,255,101],[154,255,100],[155,255,99],[156,255,98],[157,255,97],[158,255,96],[159,255,95],[160,255,94],[161,255,93],[162,255,92],[163,255,91],[164,255,90],[165,255,89],[166,255,88],[167,255,87],[168,255,86],[169,255,85],[170,255,84],[171,255,83],[172,255,82],[173,255,81],[174,255,80],[175,255,79],[177,255,77],[178,255,76],[179,255,75],[180,255,74],[181,255,73],[182,255,72],[183,255,71],[184,255,70],[185,255,69],[186,255,68],[187,255,67],[188,255,66],[189,255,65],[190,255,64],[191,255,63],[192,255,62],[193,255,61],[194,255,60],[195,255,59],[196,255,58],[197,255,57],[198,255,56],[199,255,55],[200,255,54],[201,255,53],[202,255,52],[203,255,51],[204,255,50],[205,255,49],[206,255,48],[207,255,47],[208,255,46],[209,255,45],[210,255,44],[211,255,43],[212,255,42],[213,255,41],[214,255,40],[215,255,39],[216,255,38],[217,255,37],[218,255,36],[219,255,35],[220,255,34],[221,255,33],[222,255,32],[223,255,31],[225,255,29],[226,255,28],[227,255,27],[228,255,26],[229,255,25],[230,255,24],[231,255,23],[232,255,22],[233,255,21],[234,255,20],[235,255,19],[236,255,18],[237,255,17],[238,255,16],[239,255,15],[240,255,14],[241,255,13],[242,255,12],[243,255,11],[244,255,10],[245,255,9],[246,255,8],[247,255,7],[248,255,6],[249,255,5],[250,255,4],[251,255,3],[252,255,2],[253,255,1],[254,255,0],[255,254,0],[255,253,0],[255,252,0],[255,251,0],[255,250,0],[255,249,0],[255,248,0],[255,247,0],[255,246,0],[255,245,0],[255,244,0],[255,243,0],[255,242,0],[255,241,0],[255,240,0],[255,239,0],[255,238,0],[255,237,0],[255,235,0],[255,234,0],[255,233,0],[255,232,0],[255,231,0],[255,230,0],[255,229,0],[255,228,0],[255,227,0],[255,226,0],[255,225,0],[255,224,0],[255,223,0],[255,222,0],[255,221,0],[255,220,0],[255,219,0],[255,218,0],[255,217,0],[255,216,0],[255,215,0],[255,214,0],[255,213,0],[255,212,0],[255,211,0],[255,210,0],[255,209,0],[255,208,0],[255,207,0],[255,206,0],[255,205,0],[255,204,0],[255,203,0],[255,202,0],[255,201,0],[255,200,0],[255,199,0],[255,198,0],[255,197,0],[255,196,0],[255,195,0],[255,194,0],[255,193,0],[255,192,0],[255,191,0],[255,190,0],[255,189,0],[255,187,0],[255,186,0],[255,185,0],[255,184,0],[255,183,0],[255,182,0],[255,181,0],[255,180,0],[255,179,0],[255,178,0],[255,177,0],[255,176,0],[255,175,0],[255,174,0],[255,173,0],[255,172,0],[255,171,0],[255,170,0],[255,169,0],[255,168,0],[255,167,0],[255,166,0],[255,165,0],[255,164,0],[255,163,0],[255,162,0],[255,161,0],[255,160,0],[255,159,0],[255,158,0],[255,157,0],[255,156,0],[255,155,0],[255,154,0],[255,153,0],[255,152,0],[255,151,0],[255,150,0],[255,149,0],[255,148,0],[255,147,0],[255,146,0],[255,145,0],[255,144,0],[255,143,0],[255,142,0],[255,141,0],[255,140,0],[255,138,0],[255,137,0],[255,136,0],[255,135,0],[255,134,0],[255,133,0],[255,132,0],[255,131,0],[255,130,0],[255,129,0],[255,128,0],[255,127,0],[255,126,0],[255,125,0],[255,124,0],[255,123,0],[255,122,0],[255,121,0],[255,120,0],[255,119,0],[255,118,0],[255,117,0],[255,116,0],[255,115,0],[255,114,0],[255,113,0],[255,112,0],[255,111,0],[255,110,0],[255,109,0],[255,108,0],[255,107,0],[255,106,0],[255,105,0],[255,104,0],[255,103,0],[255,102,0],[255,101,0],[255,100,0],[255,99,0],[255,98,0],[255,97,0],[255,96,0],[255,95,0],[255,94,0],[255,93,0],[255,92,0],[255,90,0],[255,89,0],[255,88,0],[255,87,0],[255,86,0],[255,85,0],[255,84,0],[255,83,0],[255,82,0],[255,81,0],[255,80,0],[255,79,0],[255,78,0],[255,77,0],[255,76,0],[255,75,0],[255,74,0],[255,73,0],[255,72,0],[255,71,0],[255,70,0],[255,69,0],[255,68,0],[255,67,0],[255,66,0],[255,65,0],[255,64,0],[255,63,0],[255,62,0],[255,61,0],[255,60,0],[255,59,0],[255,58,0],[255,57,0],[255,56,0],[255,55,0],[255,54,0],[255,53,0],[255,52,0],[255,51,0],[255,50,0],[255,49,0],[255,48,0],[255,47,0],[255,46,0],[255,45,0],[255,44,0],[255,43,0],[255,41,0],[255,40,0],[255,39,0],[255,38,0],[255,37,0],[255,36,0],[255,35,0],[255,34,0],[255,33,0],[255,32,0],[255,31,0],[255,30,0],[255,29,0],[255,28,0],[255,27,0],[255,26,0],[255,25,0],[255,24,0],[255,23,0],[255,22,0],[255,21,0],[255,20,0],[255,19,0],[255,18,0],[255,17,0],[255,16,0],[255,15,0],[255,14,0],[255,13,0],[255,12,0],[255,11,0],[255,10,0],[255,9,0],[255,8,0],[255,7,0],[255,6,0],[255,5,0],[255,4,0],[255,3,0],[255,2,0],[255,1,0],[255,0,0],[254,0,0],[253,0,0],[252,0,0],[251,0,0],[250,0,0],[249,0,0],[247,0,0],[246,0,0],[245,0,0],[244,0,0],[243,0,0],[242,0,0],[241,0,0],[240,0,0],[239,0,0],[238,0,0],[237,0,0],[236,0,0],[235,0,0],[234,0,0],[233,0,0],[232,0,0],[231,0,0],[230,0,0],[229,0,0],[228,0,0],[227,0,0],[226,0,0],[225,0,0],[224,0,0],[223,0,0],[222,0,0],[221,0,0],[220,0,0],[219,0,0],[218,0,0],[217,0,0],[216,0,0],[215,0,0],[214,0,0],[213,0,0],[212,0,0],[211,0,0],[210,0,0],[209,0,0],[208,0,0],[207,0,0],[206,0,0],[205,0,0],[204,0,0],[203,0,0],[202,0,0],[201,0,0],[199,0,0],[198,0,0],[197,0,0],[196,0,0],[195,0,0],[194,0,0],[193,0,0],[192,0,0],[191,0,0],[190,0,0],[189,0,0],[188,0,0],[187,0,0],[186,0,0],[185,0,0],[184,0,0],[183,0,0],[182,0,0],[181,0,0],[180,0,0],[179,0,0],[178,0,0],[177,0,0],[176,0,0],[175,0,0],[174,0,0],[173,0,0],[172,0,0],[171,0,0],[170,0,0],[169,0,0],[168,0,0],[167,0,0],[166,0,0],[165,0,0],[164,0,0],[163,0,0],[162,0,0],[161,0,0],[160,0,0],[159,0,0],[158,0,0],[157,0,0],[156,0,0],[155,0,0],[154,0,0],[153,0,0],[152,0,0],[150,0,0],[149,0,0],[148,0,0],[147,0,0],[146,0,0],[145,0,0],[144,0,0],[143,0,0],[142,0,0],[141,0,0],[140,0,0],[139,0,0],[138,0,0],[137,0,0],[136,0,0],[135,0,0],[134,0,0],[133,0,0],[132,0,0],[131,0,0],[130,0,0],[129,0,0],[128,0,0],[127,0,0]];function r(e){var t=window.tf;return t.util.assert(4===e.rank,"Expected rank-4 tensor input, got rank ".concat(e.rank)),t.util.assert(1===e.shape[0],"Expected exactly one example, but got ".concat(e.shape[0]," examples")),t.util.assert(1===e.shape[3],"Expected exactly one channel, but got ".concat(e.shape[3]," channels")),t.tidy((function(){for(var n=1e-5,r=e.max().sub(e.min()),i=e.sub(e.min()).div(r.add(n)),o=i.dataSync(),s=e.shape[1],c=e.shape[2],l=t.buffer([1,s,c,3]),h=a.length,d=0;d<s;++d)for(var u=0;u<c;++u){var p=o[d*c+u],m=Math.floor(p*h);l.set(a[m][0],0,d,u,0),l.set(a[m][1],0,d,u,1),l.set(a[m][2],0,d,u,2)}return l.toTensor()}))}},bd05:function(e){e.exports=JSON.parse('["kit fox","English setter","Siberian husky","Australian terrier","English springer","grey whale","lesser panda","Egyptian cat","ibex","Persian cat","cougar","gazelle","porcupine","sea lion","malamute","badger","Great Dane","Walker hound","Welsh springer spaniel","whippet","Scottish deerhound","killer whale","mink","African elephant","Weimaraner","soft-coated wheaten terrier","Dandie Dinmont","red wolf","Old English sheepdog","jaguar","otterhound","bloodhound","Airedale","hyena","meerkat","giant schnauzer","titi","three-toed sloth","sorrel","black-footed ferret","dalmatian","black-and-tan coonhound","papillon","skunk","Staffordshire bullterrier","Mexican hairless","Bouvier des Flandres","weasel","miniature poodle","Cardigan","malinois","bighorn","fox squirrel","colobus","tiger cat","Lhasa","impala","coyote","Yorkshire terrier","Newfoundland","brown bear","red fox","Norwegian elkhound","Rottweiler","hartebeest","Saluki","grey fox","schipperke","Pekinese","Brabancon griffon","West Highland white terrier","Sealyham terrier","guenon","mongoose","indri","tiger","Irish wolfhound","wild boar","EntleBucher","zebra","ram","French bulldog","orangutan","basenji","leopard","Bernese mountain dog","Maltese dog","Norfolk terrier","toy terrier","vizsla","cairn","squirrel monkey","groenendael","clumber","Siamese cat","chimpanzee","komondor","Afghan hound","Japanese spaniel","proboscis monkey","guinea pig","white wolf","ice bear","gorilla","borzoi","toy poodle","Kerry blue terrier","ox","Scotch terrier","Tibetan mastiff","spider monkey","Doberman","Boston bull","Greater Swiss Mountain dog","Appenzeller","Shih-Tzu","Irish water spaniel","Pomeranian","Bedlington terrier","warthog","Arabian camel","siamang","miniature schnauzer","collie","golden retriever","Irish terrier","affenpinscher","Border collie","hare","boxer","silky terrier","beagle","Leonberg","German short-haired pointer","patas","dhole","baboon","macaque","Chesapeake Bay retriever","bull mastiff","kuvasz","capuchin","pug","curly-coated retriever","Norwich terrier","flat-coated retriever","hog","keeshond","Eskimo dog","Brittany spaniel","standard poodle","Lakeland terrier","snow leopard","Gordon setter","dingo","standard schnauzer","hamster","Tibetan terrier","Arctic fox","wire-haired fox terrier","basset","water buffalo","American black bear","Angora","bison","howler monkey","hippopotamus","chow","giant panda","American Staffordshire terrier","Shetland sheepdog","Great Pyrenees","Chihuahua","tabby","marmoset","Labrador retriever","Saint Bernard","armadillo","Samoyed","bluetick","redbone","polecat","marmot","kelpie","gibbon","llama","miniature pinscher","wood rabbit","Italian greyhound","lion","cocker spaniel","Irish setter","dugong","Indian elephant","beaver","Sussex spaniel","Pembroke","Blenheim spaniel","Madagascar cat","Rhodesian ridgeback","lynx","African hunting dog","langur","Ibizan hound","timber wolf","cheetah","English foxhound","briard","sloth bear","Border terrier","German shepherd","otter","koala","tusker","echidna","wallaby","platypus","wombat","revolver","umbrella","schooner","soccer ball","accordion","ant","starfish","chambered nautilus","grand piano","laptop","strawberry","airliner","warplane","airship","balloon","space shuttle","fireboat","gondola","speedboat","lifeboat","canoe","yawl","catamaran","trimaran","container ship","liner","pirate","aircraft carrier","submarine","wreck","half track","tank","missile","bobsled","dogsled","bicycle-built-for-two","mountain bike","freight car","passenger car","barrow","shopping cart","motor scooter","forklift","electric locomotive","steam locomotive","amphibian","ambulance","beach wagon","cab","convertible","jeep","limousine","minivan","Model T","racer","sports car","go-kart","golfcart","moped","snowplow","fire engine","garbage truck","pickup","tow truck","trailer truck","moving van","police van","recreational vehicle","streetcar","snowmobile","tractor","mobile home","tricycle","unicycle","horse cart","jinrikisha","oxcart","bassinet","cradle","crib","four-poster","bookcase","china cabinet","medicine chest","chiffonier","table lamp","file","park bench","barber chair","throne","folding chair","rocking chair","studio couch","toilet seat","desk","pool table","dining table","entertainment center","wardrobe","Granny Smith","orange","lemon","fig","pineapple","banana","jackfruit","custard apple","pomegranate","acorn","hip","ear","rapeseed","corn","buckeye","organ","upright","chime","drum","gong","maraca","marimba","steel drum","banjo","cello","violin","harp","acoustic guitar","electric guitar","cornet","French horn","trombone","harmonica","ocarina","panpipe","bassoon","oboe","sax","flute","daisy","yellow lady\'s slipper","cliff","valley","alp","volcano","promontory","sandbar","coral reef","lakeside","seashore","geyser","hatchet","cleaver","letter opener","plane","power drill","lawn mower","hammer","corkscrew","can opener","plunger","screwdriver","shovel","plow","chain saw","cock","hen","ostrich","brambling","goldfinch","house finch","junco","indigo bunting","robin","bulbul","jay","magpie","chickadee","water ouzel","kite","bald eagle","vulture","great grey owl","black grouse","ptarmigan","ruffed grouse","prairie chicken","peacock","quail","partridge","African grey","macaw","sulphur-crested cockatoo","lorikeet","coucal","bee eater","hornbill","hummingbird","jacamar","toucan","drake","red-breasted merganser","goose","black swan","white stork","black stork","spoonbill","flamingo","American egret","little blue heron","bittern","crane","limpkin","American coot","bustard","ruddy turnstone","red-backed sandpiper","redshank","dowitcher","oystercatcher","European gallinule","pelican","king penguin","albatross","great white shark","tiger shark","hammerhead","electric ray","stingray","barracouta","coho","tench","goldfish","eel","rock beauty","anemone fish","lionfish","puffer","sturgeon","gar","loggerhead","leatherback turtle","mud turtle","terrapin","box turtle","banded gecko","common iguana","American chameleon","whiptail","agama","frilled lizard","alligator lizard","Gila monster","green lizard","African chameleon","Komodo dragon","triceratops","African crocodile","American alligator","thunder snake","ringneck snake","hognose snake","green snake","king snake","garter snake","water snake","vine snake","night snake","boa constrictor","rock python","Indian cobra","green mamba","sea snake","horned viper","diamondback","sidewinder","European fire salamander","common newt","eft","spotted salamander","axolotl","bullfrog","tree frog","tailed frog","whistle","wing","paintbrush","hand blower","oxygen mask","snorkel","loudspeaker","microphone","screen","mouse","electric fan","oil filter","strainer","space heater","stove","guillotine","barometer","rule","odometer","scale","analog clock","digital clock","wall clock","hourglass","sundial","parking meter","stopwatch","digital watch","stethoscope","syringe","magnetic compass","binoculars","projector","sunglasses","loupe","radio telescope","bow","cannon","assault rifle","rifle","projectile","computer keyboard","typewriter keyboard","crane","lighter","abacus","cash machine","slide rule","desktop computer","hand-held computer","notebook","web site","harvester","thresher","printer","slot","vending machine","sewing machine","joystick","switch","hook","car wheel","paddlewheel","pinwheel","potter\'s wheel","gas pump","carousel","swing","reel","radiator","puck","hard disc","sunglass","pick","car mirror","solar dish","remote control","disk brake","buckle","hair slide","knot","combination lock","padlock","nail","safety pin","screw","muzzle","seat belt","ski","candle","jack-o\'-lantern","spotlight","torch","neck brace","pier","tripod","maypole","mousetrap","spider web","trilobite","harvestman","scorpion","black and gold garden spider","barn spider","garden spider","black widow","tarantula","wolf spider","tick","centipede","isopod","Dungeness crab","rock crab","fiddler crab","king crab","American lobster","spiny lobster","crayfish","hermit crab","tiger beetle","ladybug","ground beetle","long-horned beetle","leaf beetle","dung beetle","rhinoceros beetle","weevil","fly","bee","grasshopper","cricket","walking stick","cockroach","mantis","cicada","leafhopper","lacewing","dragonfly","damselfly","admiral","ringlet","monarch","cabbage butterfly","sulphur butterfly","lycaenid","jellyfish","sea anemone","brain coral","flatworm","nematode","conch","snail","slug","sea slug","chiton","sea urchin","sea cucumber","iron","espresso maker","microwave","Dutch oven","rotisserie","toaster","waffle iron","vacuum","dishwasher","refrigerator","washer","Crock Pot","frying pan","wok","caldron","coffeepot","teapot","spatula","altar","triumphal arch","patio","steel arch bridge","suspension bridge","viaduct","barn","greenhouse","palace","monastery","library","apiary","boathouse","church","mosque","stupa","planetarium","restaurant","cinema","home theater","lumbermill","coil","obelisk","totem pole","castle","prison","grocery store","bakery","barbershop","bookshop","butcher shop","confectionery","shoe shop","tobacco shop","toyshop","fountain","cliff dwelling","yurt","dock","brass","megalith","bannister","breakwater","dam","chainlink fence","picket fence","worm fence","stone wall","grille","sliding door","turnstile","mountain tent","scoreboard","honeycomb","plate rack","pedestal","beacon","mashed potato","bell pepper","head cabbage","broccoli","cauliflower","zucchini","spaghetti squash","acorn squash","butternut squash","cucumber","artichoke","cardoon","mushroom","shower curtain","jean","carton","handkerchief","sandal","ashcan","safe","plate","necklace","croquet ball","fur coat","thimble","pajama","running shoe","cocktail shaker","chest","manhole cover","modem","tub","tray","balance beam","bagel","prayer rug","kimono","hot pot","whiskey jug","knee pad","book jacket","spindle","ski mask","beer bottle","crash helmet","bottlecap","tile roof","mask","maillot","Petri dish","football helmet","bathing cap","teddy","holster","pop bottle","photocopier","vestment","crossword puzzle","golf ball","trifle","suit","water tower","feather boa","cloak","red wine","drumstick","shield","Christmas stocking","hoopskirt","menu","stage","bonnet","meat loaf","baseball","face powder","scabbard","sunscreen","beer glass","hen-of-the-woods","guacamole","lampshade","wool","hay","bow tie","mailbag","water jug","bucket","dishrag","soup bowl","eggnog","mortar","trench coat","paddle","chain","swab","mixing bowl","potpie","wine bottle","shoji","bulletproof vest","drilling platform","binder","cardigan","sweatshirt","pot","birdhouse","hamper","ping-pong ball","pencil box","pay-phone","consomme","apron","punching bag","backpack","groom","bearskin","pencil sharpener","broom","mosquito net","abaya","mortarboard","poncho","crutch","Polaroid camera","space bar","cup","racket","traffic light","quill","radio","dough","cuirass","military uniform","lipstick","shower cap","monitor","oscilloscope","mitten","brassiere","French loaf","vase","milk can","rugby ball","paper towel","earthstar","envelope","miniskirt","cowboy hat","trolleybus","perfume","bathtub","hotdog","coral fungus","bullet train","pillow","toilet tissue","cassette","carpenter\'s kit","ladle","stinkhorn","lotion","hair spray","academic gown","dome","crate","wig","burrito","pill bottle","chain mail","theater curtain","window shade","barrel","washbasin","ballpoint","basketball","bath towel","cowboy boot","gown","window screen","agaric","cellular telephone","nipple","barbell","mailbox","lab coat","fire screen","minibus","packet","maze","pole","horizontal bar","sombrero","pickelhaube","rain barrel","wallet","cassette player","comic book","piggy bank","street sign","bell cote","fountain pen","Windsor tie","volleyball","overskirt","sarong","purse","bolo tie","bib","parachute","sleeping bag","television","swimming trunks","measuring cup","espresso","pizza","breastplate","shopping basket","wooden spoon","saltshaker","chocolate sauce","ballplayer","goblet","gyromitra","stretcher","water bottle","dial telephone","soap dispenser","jersey","school bus","jigsaw puzzle","plastic bag","reflex camera","diaper","Band Aid","ice lolly","velvet","tennis ball","gasmask","doormat","Loafer","ice cream","pretzel","quilt","maillot","tape player","clog","iPod","bolete","scuba diver","pitcher","matchstick","bikini","sock","CD player","lens cap","thatch","vault","beaker","bubble","cheeseburger","parallel bars","flagpole","coffee mug","rubber eraser","stole","carbonara","dumbbell"]')},c266:function(e,t,n){"use strict";var a=n("287b"),r=n.n(a);r.a},c3d9:function(e,t,n){},d696:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAABPUlEQVR4AWKgNwDwSZdAlUVhAIDX3d03b8LyutZ1ow/0gjUK1isuGXolQyTh7k56H8ydM5znR3935/3WacSODaM6/Xa+mPgXE7LXhC+FxOvBtDav3XDHa62mkVJfSHzbNyczqKf8sk2Oio9SDlQk8ANDVqwY8iDBKxxI+ZguftE0qhP4rjkA824mtCpMuxgVKjHpVAJ3YNCLoz2IzhDYBCqjwgDqAryM5wn0DMuBWoeBqDCG8pwyPMZCgMswFlm7uJ4l/sQwagN2HbuRuY1rWdZn0HiMX8N2ZkhlGQo9aI640syQ+lCbobCJhxFXi77ssp4pOGNnTGaW9byp0LiwIICxcedzR6M8n4Ly7NGIrdn2PWv4TvphO7Q1e2kAU9q8csdtb7WZQsrh6nB5zg1rBnIjJot+AMIL0CxKZwAAe/ZxvG6eP3AAAAAASUVORK5CYII="},d9e8:function(e,t,n){},e27e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAaElEQVR4Ae3LAQaAMACF4XSxAAYGAgp0kkAwQEAn6IjNsj8Mxjw2AuwHPN8bejKmNr4ROer5QgT2Nu5q+dzK3784Izc2X7CCp1iBgMl4SFzGBfh0wWRcx5kuGHzJ9eURXFwcaC4uBe99FbFw55/tJucAAAAASUVORK5CYII="},e42c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII="},e72c:function(e,t,n){"use strict";var a=n("c3d9"),r=n.n(a);r.a},e8c8:function(e,t,n){"use strict";var a=n("262d"),r=n.n(a);r.a},e901:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAABZklEQVR4Ae3VAWRCURiG4Q8XEMIAIYQBQhiGGABCGIYhDAAhDDCEASCEYRjCADCEYQgDhIsQIIQAYQPAb+6/wznO4X0C8PHL8V4BAAAAAIA/fOin8TeUtXbsbpRAR4fGQ/Zqy+6Ojt2FEhg5/suVrLFj964klo5TJoG7ByXQUt14yEm9wN2lEhjo3HjKRlXQ7luVEpg5nsM8cPesBCpHUM8a2h1BzSCoo3yCuggM6iKfoG4Dg7rNJaj9wKD28wnqNDCo01yCKm9Q7a78oB4IqhtBJaheBJWgElSCWpce1EH5QZ2VHtQ7xyEvsu79u5i6OjWeUatldj3/LqZKX47P2UB2t/HvYnpyPIOZrLl/F9O1oyRr2ZIM/buY2to1nnFUR3a39+9ienM8g7GslXOXQTyXsib+XSzEk3haxJN4Ek/iSTyJJ/G8LTuer2XHc1d6PK/Kjudj2fH8LD2eXeL5LwAAAAAA4BeTudfKCAawggAAAABJRU5ErkJggg=="},ebbb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAQAAAADIDABVAAAAAnRSTlMAAHaTzTgAAAAbSURBVHgBY8AG2A8/AGM2hgQ4RgPIcnD1WAAArS8JDWjIOJkAAAAASUVORK5CYII="}});